namespace DeltaEngine.Core
{
	/// <summary>
	/// This looks up Sines and Cosines, rounding to the nearest tenth of a degree
	/// </summary>
	public class FastTrig
	{
		public float Cos(float angleInDegrees)
		{
			return Sin(90.0f + angleInDegrees);
		}

		public float Sin(float angleInDegrees)
		{
			int angleInTenths = MathExtensions.Round(10 * angleInDegrees) % 3600;

			if (angleInTenths < 0)
				angleInTenths += 3600;

			if (angleInTenths <= 900)
				return table[angleInTenths];

			if (angleInTenths <= 1800)
				return table[1800 - angleInTenths];

			if (angleInTenths <= 2700)
				return -table[angleInTenths - 1800];

			return -table[3600 - angleInTenths];
		}

		private readonly float[] table = new[]
		{
			0.0f, 0.001745328f, 0.003490651f, 0.005235964f, 0.006981261f, 0.008726535f, 0.01047178f,
			0.012217f, 0.01396218f, 0.01570732f, 0.01745241f, 0.01919744f, 0.02094242f, 0.02268733f,
			0.02443218f, 0.02617695f, 0.02792164f, 0.02966624f, 0.03141076f, 0.03315518f, 0.0348995f,
			0.03664371f, 0.03838781f, 0.04013179f, 0.04187566f, 0.04361939f, 0.04536299f, 0.04710645f,
			0.04884977f, 0.05059294f, 0.05233596f, 0.05407881f, 0.05582151f, 0.05756403f, 0.05930638f,
			0.06104854f, 0.06279052f, 0.06453231f, 0.0662739f, 0.06801529f, 0.06975648f, 0.07149745f,
			0.07323819f, 0.07497873f, 0.07671903f, 0.0784591f, 0.08019892f, 0.08193851f, 0.08367785f,
			0.08541693f, 0.08715574f, 0.0888943f, 0.09063258f, 0.09237059f, 0.09410832f, 0.09584575f,
			0.0975829f, 0.09931975f, 0.1010563f, 0.1027925f, 0.1045285f, 0.1062641f, 0.1079994f,
			0.1097343f, 0.1114689f, 0.1132032f, 0.1149371f, 0.1166707f, 0.118404f, 0.1201368f,
			0.1218693f, 0.1236015f, 0.1253332f, 0.1270646f, 0.1287956f, 0.1305262f, 0.1322564f,
			0.1339862f, 0.1357156f, 0.1374446f, 0.1391731f, 0.1409012f, 0.1426289f, 0.1443562f,
			0.146083f, 0.1478094f, 0.1495354f, 0.1512608f, 0.1529858f, 0.1547104f, 0.1564345f,
			0.1581581f, 0.1598812f, 0.1616038f, 0.163326f, 0.1650476f, 0.1667688f, 0.1684894f,
			0.1702095f, 0.1719291f, 0.1736482f, 0.1753667f, 0.1770847f, 0.1788022f, 0.1805191f,
			0.1822355f, 0.1839514f, 0.1856666f, 0.1873813f, 0.1890954f, 0.190809f, 0.192522f, 0.1942344f,
			0.1959462f, 0.1976573f, 0.1993679f, 0.2010779f, 0.2027873f, 0.2044961f, 0.2062042f,
			0.2079117f, 0.2096186f, 0.2113248f, 0.2130304f, 0.2147353f, 0.2164396f, 0.2181433f,
			0.2198462f, 0.2215485f, 0.2232501f, 0.2249511f, 0.2266513f, 0.2283509f, 0.2300497f,
			0.2317479f, 0.2334454f, 0.2351421f, 0.2368381f, 0.2385335f, 0.240228f, 0.2419219f, 0.243615f,
			0.2453074f, 0.246999f, 0.2486899f, 0.25038f, 0.2520694f, 0.253758f, 0.2554458f, 0.2571328f,
			0.258819f, 0.2605045f, 0.2621892f, 0.2638731f, 0.2655561f, 0.2672384f, 0.2689198f,
			0.2706004f, 0.2722802f, 0.2739592f, 0.2756374f, 0.2773147f, 0.2789911f, 0.2806667f,
			0.2823415f, 0.2840154f, 0.2856884f, 0.2873605f, 0.2890318f, 0.2907022f, 0.2923717f,
			0.2940404f, 0.2957081f, 0.2973749f, 0.2990408f, 0.3007058f, 0.3023699f, 0.3040331f,
			0.3056953f, 0.3073566f, 0.309017f, 0.3106765f, 0.3123349f, 0.3139924f, 0.315649f, 0.3173047f,
			0.3189593f, 0.320613f, 0.3222657f, 0.3239174f, 0.3255682f, 0.3272179f, 0.3288667f,
			0.3305144f, 0.3321611f, 0.3338069f, 0.3354516f, 0.3370953f, 0.3387379f, 0.3403796f,
			0.3420202f, 0.3436597f, 0.3452982f, 0.3469357f, 0.348572f, 0.3502074f, 0.3518417f,
			0.3534749f, 0.3551069f, 0.356738f, 0.3583679f, 0.3599968f, 0.3616246f, 0.3632512f,
			0.3648768f, 0.3665012f, 0.3681246f, 0.3697468f, 0.3713678f, 0.3729878f, 0.3746066f,
			0.3762243f, 0.3778408f, 0.3794562f, 0.3810704f, 0.3826835f, 0.3842953f, 0.3859061f,
			0.3875156f, 0.3891239f, 0.3907311f, 0.3923371f, 0.3939419f, 0.3955455f, 0.3971479f,
			0.3987491f, 0.4003491f, 0.4019478f, 0.4035453f, 0.4051416f, 0.4067366f, 0.4083305f,
			0.409923f, 0.4115144f, 0.4131044f, 0.4146933f, 0.4162808f, 0.4178671f, 0.4194521f,
			0.4210358f, 0.4226183f, 0.4241994f, 0.4257793f, 0.4273579f, 0.4289351f, 0.4305111f,
			0.4320858f, 0.4336591f, 0.4352311f, 0.4368018f, 0.4383712f, 0.4399392f, 0.4415059f,
			0.4430712f, 0.4446352f, 0.4461978f, 0.4477591f, 0.449319f, 0.4508775f, 0.4524347f,
			0.4539905f, 0.4555449f, 0.4570979f, 0.4586495f, 0.4601998f, 0.4617486f, 0.4632961f,
			0.4648421f, 0.4663866f, 0.4679298f, 0.4694716f, 0.4710119f, 0.4725508f, 0.4740882f,
			0.4756242f, 0.4771588f, 0.4786919f, 0.4802235f, 0.4817537f, 0.4832824f, 0.4848096f,
			0.4863354f, 0.4878597f, 0.4893824f, 0.4909038f, 0.4924236f, 0.4939419f, 0.4954587f,
			0.496974f, 0.4984877f, 0.5f, 0.5015107f, 0.50302f, 0.5045276f, 0.5060338f, 0.5075384f,
			0.5090414f, 0.5105429f, 0.5120429f, 0.5135413f, 0.5150381f, 0.5165334f, 0.518027f,
			0.5195191f, 0.5210096f, 0.5224985f, 0.5239859f, 0.5254717f, 0.5269558f, 0.5284383f,
			0.5299193f, 0.5313986f, 0.5328763f, 0.5343524f, 0.5358268f, 0.5372996f, 0.5387708f,
			0.5402403f, 0.5417082f, 0.5431745f, 0.5446391f, 0.5461019f, 0.5475633f, 0.5490228f,
			0.5504808f, 0.551937f, 0.5533915f, 0.5548444f, 0.5562956f, 0.5577452f, 0.5591929f, 0.560639f,
			0.5620834f, 0.563526f, 0.564967f, 0.5664063f, 0.5678437f, 0.5692796f, 0.5707136f,
			0.5721459f, 0.5735765f, 0.5750052f, 0.5764323f, 0.5778576f, 0.5792812f, 0.580703f, 0.582123f,
			0.5835412f, 0.5849577f, 0.5863724f, 0.5877852f, 0.5891963f, 0.5906057f, 0.5920132f,
			0.5934189f, 0.5948228f, 0.5962248f, 0.5976252f, 0.5990236f, 0.6004202f, 0.601815f, 0.603208f,
			0.6045991f, 0.6059884f, 0.6073759f, 0.6087614f, 0.6101452f, 0.6115271f, 0.6129071f,
			0.6142852f, 0.6156615f, 0.6170359f, 0.6184084f, 0.6197791f, 0.6211478f, 0.6225147f,
			0.6238796f, 0.6252427f, 0.6266038f, 0.6279631f, 0.6293204f, 0.6306758f, 0.6320294f,
			0.6333809f, 0.6347306f, 0.6360782f, 0.637424f, 0.6387678f, 0.6401097f, 0.6414497f,
			0.6427876f, 0.6441236f, 0.6454577f, 0.6467898f, 0.6481199f, 0.649448f, 0.6507742f,
			0.6520984f, 0.6534206f, 0.6547409f, 0.656059f, 0.6573752f, 0.6586895f, 0.6600017f,
			0.6613119f, 0.6626201f, 0.6639262f, 0.6652304f, 0.6665325f, 0.6678326f, 0.6691306f,
			0.6704266f, 0.6717206f, 0.6730125f, 0.6743024f, 0.6755902f, 0.6768759f, 0.6781597f,
			0.6794413f, 0.6807209f, 0.6819984f, 0.6832738f, 0.6845471f, 0.6858184f, 0.6870875f,
			0.6883546f, 0.6896195f, 0.6908824f, 0.6921432f, 0.6934019f, 0.6946584f, 0.6959128f,
			0.6971651f, 0.6984153f, 0.6996634f, 0.7009093f, 0.702153f, 0.7033947f, 0.7046342f,
			0.7058716f, 0.7071068f, 0.7083398f, 0.7095708f, 0.7107995f, 0.7120261f, 0.7132505f,
			0.7144727f, 0.7156928f, 0.7169106f, 0.7181264f, 0.7193398f, 0.7205511f, 0.7217603f,
			0.7229671f, 0.7241719f, 0.7253744f, 0.7265747f, 0.7277728f, 0.7289686f, 0.7301623f,
			0.7313537f, 0.7325429f, 0.7337299f, 0.7349146f, 0.7360971f, 0.7372773f, 0.7384554f,
			0.7396311f, 0.7408046f, 0.7419759f, 0.7431449f, 0.7443116f, 0.745476f, 0.7466382f,
			0.7477981f, 0.7489557f, 0.750111f, 0.7512642f, 0.7524149f, 0.7535634f, 0.7547096f,
			0.7558535f, 0.7569951f, 0.7581344f, 0.7592713f, 0.760406f, 0.7615383f, 0.7626684f, 0.763796f,
			0.7649214f, 0.7660444f, 0.7671651f, 0.7682835f, 0.7693996f, 0.7705133f, 0.7716246f,
			0.7727336f, 0.7738402f, 0.7749445f, 0.7760465f, 0.777146f, 0.7782431f, 0.779338f, 0.7804304f,
			0.7815205f, 0.7826082f, 0.7836934f, 0.7847764f, 0.7858569f, 0.786935f, 0.7880108f,
			0.7890841f, 0.7901551f, 0.7912235f, 0.7922897f, 0.7933534f, 0.7944146f, 0.7954735f,
			0.7965299f, 0.7975839f, 0.7986355f, 0.7996846f, 0.8007314f, 0.8017756f, 0.8028175f,
			0.8038568f, 0.8048938f, 0.8059283f, 0.8069603f, 0.8079899f, 0.809017f, 0.8100417f,
			0.8110638f, 0.8120835f, 0.8131008f, 0.8141155f, 0.8151278f, 0.8161376f, 0.8171449f,
			0.8181497f, 0.8191521f, 0.8201519f, 0.8211492f, 0.822144f, 0.8231364f, 0.8241262f,
			0.8251135f, 0.8260983f, 0.8270806f, 0.8280604f, 0.8290376f, 0.8300123f, 0.8309845f,
			0.8319541f, 0.8329213f, 0.8338858f, 0.8348479f, 0.8358074f, 0.8367643f, 0.8377187f,
			0.8386706f, 0.8396199f, 0.8405666f, 0.8415108f, 0.8424524f, 0.8433915f, 0.8443279f,
			0.8452619f, 0.8461932f, 0.847122f, 0.8480481f, 0.8489717f, 0.8498927f, 0.8508111f,
			0.8517269f, 0.8526402f, 0.8535508f, 0.8544589f, 0.8553643f, 0.8562671f, 0.8571673f,
			0.8580649f, 0.8589599f, 0.8598523f, 0.860742f, 0.8616292f, 0.8625137f, 0.8633956f,
			0.8642748f, 0.8651515f, 0.8660254f, 0.8668967f, 0.8677655f, 0.8686315f, 0.869495f,
			0.8703557f, 0.8712138f, 0.8720693f, 0.8729221f, 0.8737723f, 0.8746197f, 0.8754645f,
			0.8763067f, 0.8771462f, 0.877983f, 0.8788171f, 0.8796486f, 0.8804774f, 0.8813035f,
			0.8821269f, 0.8829476f, 0.8837656f, 0.884581f, 0.8853936f, 0.8862036f, 0.8870109f,
			0.8878154f, 0.8886173f, 0.8894164f, 0.8902128f, 0.8910065f, 0.8917975f, 0.8925858f,
			0.8933714f, 0.8941543f, 0.8949344f, 0.8957118f, 0.8964865f, 0.8972584f, 0.8980276f,
			0.8987941f, 0.8995578f, 0.9003187f, 0.901077f, 0.9018326f, 0.9025853f, 0.9033353f,
			0.9040825f, 0.9048271f, 0.9055688f, 0.9063078f, 0.907044f, 0.9077775f, 0.9085082f,
			0.9092361f, 0.9099613f, 0.9106837f, 0.9114032f, 0.9121202f, 0.9128342f, 0.9135455f,
			0.914254f, 0.9149597f, 0.9156626f, 0.9163628f, 0.9170601f, 0.9177547f, 0.9184464f,
			0.9191354f, 0.9198215f, 0.9205049f, 0.9211854f, 0.9218631f, 0.9225381f, 0.9232103f,
			0.9238796f, 0.9245461f, 0.9252097f, 0.9258706f, 0.9265286f, 0.9271839f, 0.9278362f,
			0.9284858f, 0.9291326f, 0.9297765f, 0.9304176f, 0.9310558f, 0.9316912f, 0.9323238f,
			0.9329535f, 0.9335805f, 0.9342045f, 0.9348257f, 0.9354441f, 0.9360595f, 0.9366722f,
			0.937282f, 0.9378889f, 0.9384931f, 0.9390942f, 0.9396926f, 0.9402881f, 0.9408808f,
			0.9414706f, 0.9420575f, 0.9426415f, 0.9432226f, 0.9438009f, 0.9443764f, 0.9449489f,
			0.9455186f, 0.9460853f, 0.9466493f, 0.9472103f, 0.9477684f, 0.9483237f, 0.948876f,
			0.9494255f, 0.9499721f, 0.9505157f, 0.9510565f, 0.9515944f, 0.9521294f, 0.9526615f,
			0.9531907f, 0.9537169f, 0.9542403f, 0.9547608f, 0.9552784f, 0.955793f, 0.9563048f,
			0.9568136f, 0.9573195f, 0.9578225f, 0.9583226f, 0.9588197f, 0.959314f, 0.9598053f,
			0.9602937f, 0.9607792f, 0.9612617f, 0.9617413f, 0.962218f, 0.9626918f, 0.9631626f,
			0.9636304f, 0.9640954f, 0.9645574f, 0.9650165f, 0.9654726f, 0.9659258f, 0.9663761f,
			0.9668234f, 0.9672678f, 0.9677092f, 0.9681476f, 0.9685832f, 0.9690157f, 0.9694453f,
			0.9698721f, 0.9702957f, 0.9707165f, 0.9711343f, 0.9715492f, 0.971961f, 0.9723699f,
			0.9727759f, 0.9731789f, 0.9735789f, 0.973976f, 0.9743701f, 0.9747612f, 0.9751493f,
			0.9755346f, 0.9759168f, 0.976296f, 0.9766723f, 0.9770456f, 0.9774159f, 0.9777833f,
			0.9781476f, 0.978509f, 0.9788674f, 0.9792228f, 0.9795753f, 0.9799247f, 0.9802712f,
			0.9806147f, 0.9809552f, 0.9812927f, 0.9816272f, 0.9819587f, 0.9822872f, 0.9826128f,
			0.9829354f, 0.9832549f, 0.9835715f, 0.983885f, 0.9841956f, 0.9845032f, 0.9848078f,
			0.9851093f, 0.9854079f, 0.9857035f, 0.9859961f, 0.9862856f, 0.9865721f, 0.9868557f,
			0.9871363f, 0.9874138f, 0.9876884f, 0.9879599f, 0.9882284f, 0.9884939f, 0.9887564f,
			0.9890159f, 0.9892724f, 0.9895258f, 0.9897763f, 0.9900237f, 0.9902681f, 0.9905095f,
			0.9907478f, 0.9909832f, 0.9912155f, 0.9914449f, 0.9916711f, 0.9918944f, 0.9921147f,
			0.9923319f, 0.9925461f, 0.9927573f, 0.9929655f, 0.9931707f, 0.9933728f, 0.9935719f,
			0.9937679f, 0.993961f, 0.994151f, 0.994338f, 0.9945219f, 0.9947028f, 0.9948807f, 0.9950556f,
			0.9952274f, 0.9953962f, 0.995562f, 0.9957247f, 0.9958844f, 0.9960411f, 0.9961947f,
			0.9963453f, 0.9964929f, 0.9966374f, 0.9967789f, 0.9969173f, 0.9970527f, 0.9971851f,
			0.9973145f, 0.9974408f, 0.9975641f, 0.9976843f, 0.9978015f, 0.9979156f, 0.9980267f,
			0.9981348f, 0.9982398f, 0.9983418f, 0.9984407f, 0.9985366f, 0.9986295f, 0.9987193f,
			0.9988061f, 0.9988899f, 0.9989706f, 0.9990482f, 0.9991229f, 0.9991944f, 0.9992629f,
			0.9993284f, 0.9993908f, 0.9994502f, 0.9995065f, 0.9995599f, 0.9996101f, 0.9996573f,
			0.9997015f, 0.9997426f, 0.9997807f, 0.9998157f, 0.9998477f, 0.9998766f, 0.9999025f,
			0.9999254f, 0.9999452f, 0.9999619f, 0.9999756f, 0.9999863f, 0.9999939f, 0.9999985f, 1.0f
		};
	}
}